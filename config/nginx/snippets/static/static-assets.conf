# -------------------------------------------------------------------------------
#         Static Assets â€“ JS & CSS (1-year immutable cache, no logging)
# -------------------------------------------------------------------------------

location ~* \.(css|js)$
{
    try_files $uri =404;

    # Long-term cache: 1 year, immutable (only works well with versioned assets)
    add_header Cache-Control "public, max-age=31536000, immutable";

    # Security headers
    add_header X-Content-Type-Options "nosniff";
    add_header Referrer-Policy "strict-origin-when-cross-origin";

    # No logs for these assets (reduces disk I/O)
    access_log off;
    log_not_found off;

    # Optional: compression (if not already handled globally)
    gzip_static on;
    expires max;
}
