# -------------------------------------------------------------------------------
#   Web Fonts â€“ Long-term cache, CORS for cross-origin access (e.g., from CSS)
# -------------------------------------------------------------------------------

location ~* \.(ttf|eot|otf|woff|woff2)$
{
    try_files $uri =404;

    # Long-term cache: 1 year (with immutable flag for versioned assets)
    add_header Cache-Control "public, max-age=31536000, immutable";

    # Required for cross-origin font loading (e.g. via @font-face in CSS)
    add_header Access-Control-Allow-Origin "*";

    # Prevent MIME-sniffing
    add_header X-Content-Type-Options "nosniff";

    # Disable logs for fonts
    access_log    off;
    log_not_found off;

    # Optional: serve .gz files if present
    gzip_static on;
    expires     max;
}
