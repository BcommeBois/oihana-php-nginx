# -------------------------------------------------------------------------------
#               WordPress HTTP Security & Optimization Headers
# -------------------------------------------------------------------------------

# Prevent MIME-type sniffing
add_header X-Content-Type-Options "nosniff" always;

# Prevent clickjacking by disallowing iframe embedding
add_header X-Frame-Options "SAMEORIGIN" always;

# Enable basic XSS protection in older browsers
add_header X-XSS-Protection "1; mode=block" always;

# Control access to browser features (previously Feature-Policy)
add_header Permissions-Policy "geolocation=(), microphone=(), camera=()" always;

# Limit Referer header to protect privacy
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# Enforce HTTPS and preload for HSTS (only works over HTTPS)
add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload" always;

# Show cache status (useful for debugging with FastCGI or reverse proxy)
add_header X-Cache $upstream_cache_status;

# Specify accepted encoding for better client-side caching
# add_header Vary Accept-Encoding;

# Optional: add a custom server signature (commented out by default)
# add_header X-Powered-By "NGINX + Hardened WordPress";

# Optional: allow cross-origin resource sharing (CORS) â€” enable only if needed
# add_header Access-Control-Allow-Origin "*";